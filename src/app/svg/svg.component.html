<div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="10px" style="padding: 10px; width: 90vw; max-width: 125vmin">
  <mat-card fxFlex.gt-xs="60" style="width: 70vmin; height: 70vmin">
    <div id="canvas_container" style="width: 100%; height: 100%"></div>
  </mat-card>
  <div fxFlex.gt-xs="40">
    <mat-card style="max-height: available">
      <mat-card-title>Controls</mat-card-title>
      <mat-card-content fxLayout="column">
        <mat-form-field>
          <input matInput [(ngModel)]="dimensions" (change)="reset()" type="number" placeholder="Dimensions" min="2"
                 max="12">
        </mat-form-field>
        <div *ngFor="let rot of rotations">
          <mat-expansion-panel>
            <mat-expansion-panel-header fxLayout="row" fxLayoutAlign="space-around center">
              <mat-slide-toggle fxFlex [(ngModel)]="rot.active" (change)="redraw();" (click)="$event.stopPropagation()">
                Rotate
                {{rot.basis1}}-{{rot.basis2}}?
              </mat-slide-toggle>
              <mat-label fxFlex align="end" style="padding-right: 10px; color: rgba(0,0,0,0.54)">
                {{toDegrees(rot.angle).toFixed(0)}}&deg;
              </mat-label>
            </mat-expansion-panel-header>
            <div fxLayout="row" fxLayoutAlign="space-between center">
              <label>Angle:</label>
              <mat-slider [(ngModel)]="rot.angle" [displayWith]="toDegreesString"
                          (input)="rot.angle=$event.value;redraw();" min="0" max="6.28" step="0.01"></mat-slider>
            </div>
          </mat-expansion-panel>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
